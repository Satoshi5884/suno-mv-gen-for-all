<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suno MV Generator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🎵 Suno MV Generator</h1>
            <p>音楽AIのSunoからMVまでのフローを管理するWebアプリ</p>
            <div id="loading-indicator" class="loading-indicator">
                <span>テンプレートデータを読み込み中...</span>
            </div>
        </header>

        <main>
            <!-- ステップ1: ChatGPT-5での曲作成 -->
            <section class="step" id="step1">
                <div class="step-header">
                    <h2>ステップ 1: Sunoで曲を作るためのChatGPT-5用プロンプト作成</h2>
                    <span class="step-number">1</span>
                </div>
                
                <!-- 人物像（ペルソナ）選択 -->
                <div class="input-group">
                    <label for="persona">人物像（1つ選択, 直接入力も可）:</label>
                    <div class="input-container">
                        <div class="input-with-button">
                            <input type="text" id="persona" placeholder="例: j-popアイドルグループ、ロックシンガー、カフェ店員">
                            <div class="input-controls">
                                <button type="button" class="select-btn" onclick="showTemplateSelector('persona', 'personas')">📋</button>
                                 <button type="button" class="random-btn" onclick="fillRandomTemplate('persona','personas')">🎲</button>
                                <button type="button" class="clear-btn" onclick="clearInput('persona')">✕</button>
                            </div>
                        </div>
                        <div class="template-detail" id="persona-detail"></div>
                    </div>
                </div>

                <!-- 人物像の性別選択 -->
                <div class="input-group">
                    <label>人物像の性別:</label>
                    <div class="radio-group" id="persona-gender-group">
                        <label class="radio-option"><input type="radio" name="persona-gender" value="unset"> 未設定</label>
                        <label class="radio-option"><input type="radio" name="persona-gender" value="female" checked> 女性</label>
                        <label class="radio-option"><input type="radio" name="persona-gender" value="male"> 男性</label>
                    </div>
                </div>

                <!-- 人物像 追加指定 -->
                <div class="input-group">
                    <label for="persona-extra">人物像に関する追加指定:</label>
                    <div class="textarea-container">
                        <textarea id="persona-extra" placeholder="例: 年齢、雰囲気、衣装、職業設定など"></textarea>
                        <button type="button" class="clear-textarea-btn" onclick="clearTextarea('persona-extra')">✕</button>
                    </div>
                </div>

                <div class="input-group">
                    <label for="song-style">ざっくりとした曲のスタイル（最大3つまで選択可能）:</label>
                    <div class="input-container">
                        <div class="input-with-button">
                            <div class="multi-select-container">
                                <div class="selected-tags" id="song-style-tags"></div>
                                <input type="text" id="song-style" placeholder="例: ポップ、ロック、バラード" class="multi-input">
                                <div class="input-controls">
                                    <button type="button" class="select-btn" onclick="showTemplateSelector('song-style', 'songStyles')">📋</button>
                                    <button type="button" class="random-btn" onclick="addRandomTemplate('song-style', 'songStyles')">🎲</button>
                                    <button type="button" class="clear-btn" onclick="clearAllSelections('song-style')">✕</button>
                                </div>
                            </div>
                        </div>
                        <div class="template-detail" id="song-style-detail"></div>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="lyrics-mood">ざっくりとした歌詞の雰囲気（最大3つまで選択可能）:</label>
                    <div class="input-container">
                        <div class="input-with-button">
                            <div class="multi-select-container">
                                <div class="selected-tags" id="lyrics-mood-tags"></div>
                                <input type="text" id="lyrics-mood" placeholder="例: 青春、恋愛、友情" class="multi-input">
                                <div class="input-controls">
                                    <button type="button" class="select-btn" onclick="showTemplateSelector('lyrics-mood', 'lyricsMoods')">📋</button>
                                    <button type="button" class="random-btn" onclick="addRandomTemplate('lyrics-mood', 'lyricsMoods')">🎲</button>
                                    <button type="button" class="clear-btn" onclick="clearAllSelections('lyrics-mood')">✕</button>
                                </div>
                            </div>
                        </div>
                        <div class="template-detail" id="lyrics-mood-detail"></div>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="vocal-features">声の特徴や口調（最大3つまで選択可能）:</label>
                    <div class="input-container">
                        <div class="input-with-button">
                            <div class="multi-select-container">
                                <div class="selected-tags" id="vocal-features-tags"></div>
                                <input type="text" id="vocal-features" placeholder="例: 明るく元気な、透明感のある" class="multi-input">
                                <div class="input-controls">
                                    <button type="button" class="select-btn" onclick="showTemplateSelector('vocal-features', 'vocalFeatures')">📋</button>
                                    <button type="button" class="random-btn" onclick="addRandomTemplate('vocal-features', 'vocalFeatures')">🎲</button>
                                    <button type="button" class="clear-btn" onclick="clearAllSelections('vocal-features')">✕</button>
                                </div>
                            </div>
                        </div>
                        <div class="template-detail" id="vocal-features-detail"></div>
                    </div>
                </div>

                <!-- ボーカル人数と性別選択 -->
                <div class="input-group">
                    <label>ボーカル人数:</label>
                    <div class="radio-group" id="vocal-count-group">
                        <label class="radio-option"><input type="radio" name="vocal-count" value="unset"> 未設定</label>
                        <label class="radio-option"><input type="radio" name="vocal-count" value="one" checked> 1人</label>
                        <label class="radio-option"><input type="radio" name="vocal-count" value="two"> 2人</label>
                        <label class="radio-option"><input type="radio" name="vocal-count" value="multiple"> 複数</label>
                    </div>
                </div>
                <div class="input-group">
                    <label>ボーカル性別:</label>
                    <div class="radio-group" id="vocal-gender-group">
                        <label class="radio-option"><input type="radio" name="vocal-gender" value="unset"> 未設定</label>
                        <label class="radio-option"><input type="radio" name="vocal-gender" value="female" checked> 女性</label>
                        <label class="radio-option"><input type="radio" name="vocal-gender" value="male"> 男性</label>
                    </div>
                </div>
                
                <button class="generate-btn" onclick="generateStep1Prompt()">プロンプト生成</button>
                
                <!-- 設定のエクスポート/インポート -->
                <div class="output-buttons" style="margin-bottom: 10px;">
                    <button class="copy-btn" id="export-settings-btn">設定をエクスポート(JSON)</button>
                    <button class="clear-output-btn" id="import-settings-btn">設定をインポート(JSON)</button>
                    <input type="file" id="import-json-input" accept="application/json" style="display:none" />
                </div>

                <div class="output-section">
                    <div class="output-header">
                        <h3>生成されたプロンプト</h3>
                        <div class="template-info" id="template-info-step1"></div>
                        <div class="output-buttons">
                            <button class="copy-btn" onclick="copyToClipboard('step1-output')">コピー</button>
                            <button class="clear-output-btn" onclick="clearOutput('step1-output')">消去</button>
                        </div>
                    </div>
                    <textarea id="step1-output" readonly placeholder="プロンプトがここに表示されます"></textarea>
                </div>
            </section>

            <!-- ステップ2: Sunoでの曲作成（手動） -->
            <section class="step" id="step2">
                <div class="step-header">
                    <h2>ステップ 2: ChatGPT-5でSuno用の歌詞・スタイル・タイトル作成</h2>
                    <span class="step-number">2</span>
                </div>
                
                <div class="manual-step">
                    <p>ステップ1で生成したプロンプトをChatGPT-5に入力して、Suno用の歌詞・スタイル・タイトルを作成してください。</p>
                    <p>それを使用してSunoで曲を作成してください。</p>
                    <div class="links-container">
                        <a href="https://chatgpt.com" target="_blank" class="external-link chatgpt-link">ChatGPT-5を開く</a>
                        <a href="https://suno.com" target="_blank" class="external-link">Sunoを開く</a>
                    </div>
                </div>
            </section>

            <!-- ステップ3: Google AI Studioでの歌詞区切り -->
            <section class="step" id="step3">
                <div class="step-header">
                    <h2>ステップ 3: Google AI Studioでの歌詞区切り</h2>
                    <span class="step-number">3</span>
                </div>
                
                <div class="input-group">
                    <label for="song-duration">曲の長さ:</label>
                    <div class="duration-input-container">
                        <div class="duration-field">
                            <input type="number" id="song-duration-minutes" placeholder="3" min="0" max="10" value="">
                            <label for="song-duration-minutes">分</label>
                        </div>
                        <div class="duration-field">
                            <input type="number" id="song-duration-seconds" placeholder="30" min="0" max="59" value="">
                            <label for="song-duration-seconds">秒</label>
                        </div>
                    </div>
                </div>
                <div class="input-group">
                    <label for="segment-interval-seconds">区切り秒数:</label>
                    <div class="duration-input-container">
                        <div class="duration-field">
                            <input type="number" id="segment-interval-seconds" placeholder="8" min="1" max="60" value="8">
                            <label for="segment-interval-seconds">秒</label>
                        </div>
                    </div>
                </div>
                
                <button class="generate-btn" onclick="generateStep3Prompt()">プロンプト生成</button>
                
                <div class="output-section">
                    <div class="output-header">
                        <h3>生成されたプロンプト</h3>
                        <div class="output-buttons">
                            <button class="copy-btn" onclick="copyToClipboard('step3-output')">コピー</button>
                            <button class="clear-output-btn" onclick="clearOutput('step3-output')">消去</button>
                        </div>
                    </div>
                    <textarea id="step3-output" readonly placeholder="プロンプトがここに表示されます"></textarea>
                </div>

                <div class="manual-step">
                    <p>Sunoで作成した音声ファイルをGoogle AI Studioにアップロードし、上記プロンプトを使用してください。</p>
                    <a href="https://aistudio.google.com" target="_blank" class="external-link">Google AI Studioを開く</a>
                </div>
            </section>

            <!-- ステップ4: ChatGPT-5でのVeo3用プロンプト作成 -->
            <section class="step" id="step4">
                <div class="step-header">
                    <h2>ステップ 4: ChatGPT-5での動画生成(画像生成)用プロンプト作成</h2>
                    <span class="step-number">4</span>
                </div>
                
                <div class="input-group">
                    <label for="original-lyrics">元の歌詞:</label>
                    <div class="textarea-container">
                        <textarea id="original-lyrics" placeholder="ステップ1で生成された歌詞を入力してください"></textarea>
                        <button type="button" class="clear-textarea-btn" onclick="clearTextarea('original-lyrics')">✕</button>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="segmented-lyrics">秒数で区切った歌詞:</label>
                    <div class="textarea-container">
                        <textarea id="segmented-lyrics" placeholder="ステップ3で得られた区切り秒数の歌詞をすべて入力してください"></textarea>
                        <button type="button" class="clear-textarea-btn" onclick="clearTextarea('segmented-lyrics')">✕</button>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="song-bpm">BPM:</label>
                    <div class="input-container-simple">
                        <input type="number" id="song-bpm" placeholder="例: 120" min="60" max="200">
                        <button type="button" class="clear-input-btn" onclick="clearInput('song-bpm')">✕</button>
                    </div>
                </div>
                
                <button class="generate-btn" onclick="generateStep4Prompt()">プロンプト生成</button>
                
                <div class="output-section">
                    <div class="output-header">
                        <h3>生成されたプロンプト</h3>
                        <div class="output-buttons">
                            <button class="copy-btn" onclick="copyToClipboard('step4-output')">コピー</button>
                            <button class="clear-output-btn" onclick="clearOutput('step4-output')">消去</button>
                        </div>
                    </div>
                    <textarea id="step4-output" readonly placeholder="プロンプトがここに表示されます"></textarea>
                </div>
            </section>

            <!-- ステップ5: 画像生成（ChatGPTでプロンプト整備 → 画像生成ツール） -->
            <section class="step" id="step5">
                <div class="step-header">
                    <h2>ステップ 5: 画像生成（ChatGPTでプロンプト整備 → Gemini(Imagen) / ChatGPT(Image) / Sora / ImageFX / Whisk / Midjourney など）</h2>
                    <span class="step-number">5</span>
                </div>
                
                <div class="manual-step">
                    <p>ステップ4で生成したプロンプトを使って、ChatGPT（Image）/ Gemini(Imagen) / Sora / ImageFX / Whisk / Midjourney などで静止画を作成します。</p>
                    <div class="links-container">
                        <a href="https://chatgpt.com" target="_blank" class="external-link chatgpt-link">ChatGPT（Image）</a>
                        <a href="https://gemini.google.com" target="_blank" class="external-link gemini-link">Gemini (Imagen)</a>
                        <a href="https://sora.chatgpt.com/" target="_blank" class="external-link">Sora</a>
                        <a href="https://www.midjourney.com" target="_blank" class="external-link">Midjourney</a>
                    </div>
                </div>
            </section>

            <!-- ステップ6: i2v（Image to Video）で動画生成（Sora / Gemini(Veo3) / Midjourney） -->
            <section class="step" id="step6">
                <div class="step-header">
                    <h2>ステップ 6: i2v（Image to Video）で動画生成（Sora / Gemini(Veo3) / Midjourney）</h2>
                    <span class="step-number">6</span>
                </div>
                <div class="manual-step">
                    <p>ステップ5で作成した画像と同じプロンプトを使用して、Sora / Gemini(Veo3) / Midjourney で i2v 動画を生成します。</p>
                    <div class="links-container">
                        <a href="https://www.openai.com/research/sora" target="_blank" class="external-link">Sora</a>
                        <a href="https://gemini.google.com" target="_blank" class="external-link gemini-link">Gemini (Veo3)</a>
                        <a href="https://www.midjourney.com" target="_blank" class="external-link">Midjourney</a>
                    </div>
                    <p style="margin-top:10px; color:#444;">Gemini（Veo3）をご利用の方へ: 2025/8/9現在、video extend 機能は利用できません。動画の最後のフレームを静止画として保存し、それを i2v に使用する運用をおすすめします。以下のツールで簡単に最後のフレーム画像を作成できます。</p>
                    <div class="links-container" style="margin-top:8px;">
                        <a href="https://satoshi5884.github.io/mv-to-pic/" target="_blank" class="external-link">MV → 静止画（最後のフレーム抽出）ツール</a>
                    </div>
                </div>
            </section>

            <!-- ステップ7: 動画編集（Windows: Clipchamp / macOS: iMovie など） -->
            <section class="step" id="step7">
                <div class="step-header">
                    <h2>ステップ 7: 動画編集（Windows: Clipchamp / macOS: iMovie など）</h2>
                    <span class="step-number">7</span>
                </div>
                <div class="manual-step">
                    <p>Windowsでは Clipchamp、macOSでは iMovie 等を用いて、不要部分のトリミング、BGM/SEの調整、色調補正、書き出し設定などの仕上げ編集を行います。</p>
                    <div class="links-container">
                        <a href="https://clipchamp.com/" target="_blank" class="external-link">Clipchamp</a>
                        <a href="https://www.apple.com/jp/imovie/" target="_blank" class="external-link">iMovie</a>
                    </div>
                </div>
            </section>

            <!-- ステップ8: Remotion + Claude Code で歌詞テロップ/エフェクト（中～上級者向け） -->
            <section class="step" id="step8">
                <div class="step-header">
                    <h2>ステップ 8: Remotion + Claude Codeで歌詞テロップ生成・エフェクト（中～上級者向け）</h2>
                    <span class="step-number">8</span>
                </div>
                <div class="manual-step">
                    <p>ステップ4の区切り秒数（例: 8秒）区切り歌詞をもとに、Remotionでテロップやトランジション/エフェクトをコードから生成します。Claude Code（VS Code拡張）を活用して、コンポーネント生成やタイムライン調整、アニメーションの試行錯誤を効率化できます。</p>
                    <ul style="margin:10px 0 0 18px; color:#555;">
                        <li>Remotionでタイムラインに沿った歌詞テロップを表示</li>
                        <li>各ブロックにフェード/モーション/フィルター等のエフェクト付与</li>
                        <li>CLIで動画レンダリング、あるいはRemotion Playerでプレビュー</li>
                    </ul>
                    <div class="links-container" style="margin-top:12px;">
                        <a href="https://www.remotion.dev/" target="_blank" class="external-link">Remotion ドキュメント</a>
                        <a href="https://docs.anthropic.com/ja/docs/claude-code/overview" target="_blank" class="external-link chatgpt-link">Claude（Claude Code）</a>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>© 2025 Suno MV Generator powered by Gakushi</p>
        </footer>
    </div>

    <!-- テンプレート選択モーダル -->
    <div id="template-selector-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">テンプレートを選択</h3>
                <span class="close-modal" onclick="closeTemplateSelector()">&times;</span>
            </div>
            <div class="modal-body">
                <div id="template-list" class="template-list"></div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn secondary" onclick="closeTemplateSelector()">キャンセル</button>
            </div>
        </div>
    </div>

    <script src="data.js"></script>
    <script src="script.js"></script>
</body>
</html>